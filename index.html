<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Redwood by Lab41</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Redwood</h1>
          <h2>A project that implements statistical methods for identifying anomalous files</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/Lab41/Redwood/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/Lab41/Redwood/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/Lab41/Redwood" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="association-based-data-reduction-redwood" class="anchor" href="#association-based-data-reduction-redwood"><span class="octicon octicon-link"></span></a>Association-Based Data Reduction (REDWOOD)</h1>

<p>This project implements statistical methods to assist in identifying anomalous files from a larger data set.  </p>

<h2>
<a name="python-package-requirements" class="anchor" href="#python-package-requirements"><span class="octicon octicon-link"></span></a>Python Package Requirements</h2>

<ul>
<li>MySQLdb - MySQL-Python Project provides MySQL Connector (<a href="http://mysql-python.sourceforge.net/">http://mysql-python.sourceforge.net/</a>)</li>
<li>python 2.7</li>
<li>SciPy - <a href="http://www.scipy.org/">http://www.scipy.org/</a>
</li>
</ul><h2>
<a name="setup" class="anchor" href="#setup"><span class="octicon octicon-link"></span></a>Setup</h2>

<h3>
<a name="databases" class="anchor" href="#databases"><span class="octicon octicon-link"></span></a>Databases</h3>

<p>First create the database</p>

<p>From the Redwood directory, run</p>

<pre><code>mysql -uyour_db_user -pyour_password -hyour_host &lt; sql/create_redwood_db.sql
mysql -uyour_db_user -pyour_password -hyour_host &lt; sql/create_redwood_sp.sql
</code></pre>

<h3>
<a name="run-redwood" class="anchor" href="#run-redwood"><span class="octicon octicon-link"></span></a>Run Redwood</h3>

<p>write a connection config</p>

<pre><code>[mysqld]
database:your_db_name
host:your_host
username:your_username
password:your_password
</code></pre>

<p>Then, start the application, specifying the config you just created</p>

<pre><code>python redwood.py /path/to/connection/config
</code></pre>

<h3>
<a name="obtain-data" class="anchor" href="#obtain-data"><span class="octicon octicon-link"></span></a>Obtain Data</h3>

<p>The load_csv command expects that the fields be in the following order</p>

<pre><code>sha1,dirname,basename,inode,device,permissions,user_owner,group_owner,last_accessed,last_modified,last_changed,inode_birth,user_flags,links_to_file,size
</code></pre>

<p>The script below will walk a hfs+ file system and (perhaps) other Unix/Linux file systems, collecting the relevant metadata using the stat command.  The output will be in the appropriate format for the load_csv command</p>

<pre><code>echo "sha1,dirname,basename,inode,device,permissions,user_owner,group_owner,last_accessed,last_modified,last_changed,inode_birth,user_flags,links_to_file,size" &gt; filewalk; sudo find / -type f -exec  sh -c 'A=$(shasum "$0" | cut -d" "  -f1-2 | tr -d " ") ; DIR="$(dirname "$0")/"; BASE=$(basename "$0"); B=$(stat -f  "%i,%d,%p,%Su,%Sg,%a,%m,%c,%B,%f,%l,%z" "$0") ;  echo $A,$DIR,$BASE,$B &gt;&gt; filewalk ; ' {} \;
</code></pre>

<h2>
<a name="plugin-architecture" class="anchor" href="#plugin-architecture"><span class="octicon octicon-link"></span></a>Plugin Architecture</h2>

<p>Redwood uses a series of filters that run statistical methods on the data. These filters are the core of how Redwood assigns scores to individual files. To add a filter to Redwood, extend the RedwoodFilter class as shown below: </p>

<pre><code>class YourFilterName(RedwoodFilter)

    def __init__(self):
        self.name = "YourFilterName"
    def usage(self):
        print "Your usage statement"

    #discovery functions
    def discover_your_discover_func0(self, arg0, ..., argN):
        your code
    ...
    def discover_your discover_funcM(self, arg0, ..., argN):
        your code

    #run function
    def run(self, cnx):
        your code

</code></pre>
        </section>

        <footer>
          Redwood is maintained by <a href="https://github.com/Lab41">Lab41</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-40464073-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>